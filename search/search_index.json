{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Profiling PolarRoute and MeshiPhi","text":""},{"location":"#results","title":"Results","text":"<p>Tip: Sort by <code>cumtime</code> when viewing snakeviz profile visualisations. Click a function call (line in the table) to set that as the root call. E.g. for environmental mesh building, select <code>build_environmental_mesh</code>.</p>"},{"location":"#create-environmental-mesh","title":"Create Environmental Mesh","text":""},{"location":"#grf-example","title":"GRF Example","text":"<p>Code: <code>scripts/meshiphi_build.py</code></p> <p>Config: <code>configs/environment/grf_example.config.json</code></p> MeshiPhi Python Total Time (s) Profile Mesh Optimizations 2.1.15 3.13 92.4 snakeviz geoplot* None 2.2.3 3.13 88.6 snakeviz geoplot* None 2.2.3 3.14 168.0 snakeviz geoplot* None <p>* Note: these all show the same mesh output.</p> <p><code>trim_datapoints</code> for abstract scalar datasets is the function within MeshiPhi that takes up most time during both the <code>split_to_depth</code> and <code>aggregate</code> stages.</p> <p>This is mainly due to the number of calls to this function, ~17k in this GRF example, or ~145k times in the real data example below.</p> <p>Each call only takes 5E-6 seconds, but totals up to a large fraction of the overall runtime.</p> <p>Optimising the approach here should be the first target for speedups in mesh building.</p>"},{"location":"#real-production-data","title":"Real Production Data","text":"<p>Code: <code>scripts/meshiphi_build.py</code></p> <p>Config: <code>configs/environment/amsr_southern.config.json</code></p> MeshiPhi Python Total Time (s) Profile Mesh Optimizations 2.2.3 3.13 637 snakeviz geoplot None"},{"location":"#add-vehicle","title":"Add Vehicle","text":"<p>Code: <code>scripts/polarroute_add_vehicle.py</code></p> <p>Config: <code>configs/vessels/sda.json</code></p> PolarRoute MeshiPhi Python Total Time (s) Profile Mesh Optimizations 1.1.8 2.1.15 3.14 17.8 snakeviz geoplot None"},{"location":"#optimise-route","title":"Optimise Route","text":"<p>TODO</p>"}]}